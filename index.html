<!DOCTYPE html>
<html lang="ko">
<head>
<meta charset="UTF-8">
<title>Pixel Rogue RPG</title>
<style>
body { background:#111; color:white; text-align:center; }
#gameBox { width:900px; margin:auto; border:2px solid #555; background:black; }
.panel { width:45%; border:1px solid #444; padding:8px; }
#statusBar { display:flex; justify-content:space-between; padding:10px; }
button { font-size:16px; margin:4px; }
</style>
</head>
<body>

<!-- ì‹œì‘ -->
<div id="startUI">
<h2>ìŠ¤íƒ¯ ë¶„ë°° (12)</h2>
ìŠ¤í”¼ë“œ <span id="spd">0</span>
<button onclick="stat('spd',1)">+</button>
<button onclick="stat('spd',-1)">-</button><br>

ì²´ë ¥ <span id="hpStat">0</span>
<button onclick="stat('hp',1)">+</button>
<button onclick="stat('hp',-1)">-</button><br>

ê³µê²© <span id="atkStat">0</span>
<button onclick="stat('atk',1)">+</button>
<button onclick="stat('atk',-1)">-</button><br>

ë‚¨ì€ í¬ì¸íŠ¸: <span id="pt">12</span><br>
<button onclick="startGame()">ê²Œì„ ì‹œì‘</button>
</div>

<!-- ê²Œì„ -->
<div id="gameBox" style="display:none;">
<div id="topBar">DAY</div>

<div id="statusBar">
<div class="panel">
<b>PLAYER</b><br>
HP <span id="pHp"></span><br>
ATK <span id="pAtk"></span><br>
SPD <span id="pSpd"></span>
</div>

<div class="panel">
<b>MONSTER</b><br>
<span id="mInfo">ì—†ìŒ</span>
</div>
</div>

<div id="battleLog">íƒí—˜ ì¤‘...</div>

<div>
<button onclick="move()">ì´ë™</button>
</div>

<div id="battleUI" style="display:none;">
<button onclick="playerAttack()">âš”ï¸ ê³µê²©</button>
<button onclick="escape()">ğŸƒ ë„ë§</button>
</div>

<button onclick="resetGame()">ì²˜ìŒìœ¼ë¡œ</button>
</div>

<!-- íŒ¨ë°° -->
<div id="gameOverUI" style="display:none;">
<h1>ğŸ’€ íŒ¨ë°°</h1>
<button onclick="resetGame()">ë‹¤ì‹œ ì‹œì‘</button>
</div>

<script>
let stats={spd:0,hp:0,atk:0}, statPt=12;
let player, monster=null, inBattle=false;
let day=true, turn=0;

function stat(k,v){
 if(statPt-v<0||stats[k]+v<0) return;
 stats[k]+=v; statPt-=v;
 spd.innerText=stats.spd;
 hpStat.innerText=stats.hp;
 atkStat.innerText=stats.atk;
 pt.innerText=statPt;
}

function startGame(){
 if(statPt>0) return alert("í¬ì¸íŠ¸ ë‹¤ ì¨!");
 player={hp:stats.hp,atk:stats.atk,spd:stats.spd};
 startUI.style.display="none";
 gameBox.style.display="block";
 updateUI();
}

function move(){
 if(inBattle) return;
 spawnMonster();
}

function spawnMonster(){
 monster={
  hp: day?6:9,
  atk: day?2:4,
  spd:1
 };
 inBattle=true;
 battleUI.style.display="block";
 log("ëª¬ìŠ¤í„° ë“±ì¥!");
 updateUI();
}

function playerAttack(){
 if(!monster) return;
 monster.hp-=player.atk;
 if(monster.hp<=0) return win();
 monsterAttack();
}

function monsterAttack(){
 player.hp-=monster.atk;
 if(player.hp<=0) return gameOver();
 updateUI();
}

function win(){
 log("ìŠ¹ë¦¬!");
 monster=null;
 inBattle=false;
 battleUI.style.display="none";
 turn++;
 if(turn>=5){turn=0; day=!day;}
 updateUI();
}

function escape(){
 log("ë„ë§ì³¤ë‹¤!");
 monster=null;
 inBattle=false;
 battleUI.style.display="none";
}

function gameOver(){
 gameBox.style.display="none";
 gameOverUI.style.display="block";
}

function updateUI(){
 topBar.innerText=day?"ğŸŒ DAY":"ğŸŒ™ NIGHT";
 pHp.innerText=player.hp;
 pAtk.innerText=player.atk;
 pSpd.innerText=player.spd;
 mInfo.innerText=monster?`HP ${monster.hp} ATK ${monster.atk}`:"ì—†ìŒ";
}

function log(t){battleLog.innerText=t;}
function resetGame(){location.reload();}
</script>
</body>
</html>
